#!/bin/sh

# Check for Co-Authored-By in commit message
if grep -i "co-authored-by" "$1" > /dev/null; then
  echo "‚ùå Commit message contains 'Co-Authored-By' which is not allowed."
  echo "Please remove the Co-Authored-By line from your commit message."
  exit 1
fi

# Check for Claude Code references in commit message
if grep -i "claude code\|claude ai\|ü§ñ.*claude" "$1" > /dev/null; then
  echo "‚ùå Commit message contains Claude references which are not allowed."
  echo "Please remove any references to Claude or AI assistance from your commit message."
  exit 1
fi

npx --no -- commitlint --edit "$1"
